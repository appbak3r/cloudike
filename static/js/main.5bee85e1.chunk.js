(this.webpackJsonpcloudike=this.webpackJsonpcloudike||[]).push([[0],{158:function(e,t,n){e.exports=n(310)},310:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(62),o=n.n(c),i=n(19),u=n(34),s=n(29),l=n(4),f=n(3),d=n(145),p=n.n(d);function b(){var e=Object(l.a)(["\n  ",';\n  \n  html, body, #root {\n    height: 100%;\n  }\n  \n  html {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n    font-size: 16px;\n  }\n  \n  p {\n    line-height: 1.2;\n  }\n  \n  @media screen and (max-width: 480px){\n    html {\n      font-size: 14px;\n    }\n  }\n']);return b=function(){return e},e}var m=Object(f.createGlobalStyle)(b(),p.a),h=n(12);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var g,j=a.a.createElement("g",{transform:"rotate(0 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}))),E=a.a.createElement("g",{transform:"rotate(30 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}))),y=a.a.createElement("g",{transform:"rotate(60 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}))),x=a.a.createElement("g",{transform:"rotate(90 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}))),w=a.a.createElement("g",{transform:"rotate(120 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}))),S=a.a.createElement("g",{transform:"rotate(150 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}))),k=a.a.createElement("g",{transform:"rotate(180 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}))),T=a.a.createElement("g",{transform:"rotate(210 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}))),A=a.a.createElement("g",{transform:"rotate(240 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}))),_=a.a.createElement("g",{transform:"rotate(270 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}))),R=a.a.createElement("g",{transform:"rotate(300 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}))),z=a.a.createElement("g",{transform:"rotate(330 50 50)"},a.a.createElement("rect",{x:47,y:24,rx:9.4,ry:4.8,width:6,height:12},a.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}))),C=function(e){var t=e.svgRef,n=e.title,r=O(e,["svgRef","title"]);return a.a.createElement("svg",v({className:"lds-spinner",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",style:{background:"none"},ref:t},r),n?a.a.createElement("title",null,n):null,j,E,y,x,w,S,k,T,A,_,R,z)},L=a.a.forwardRef((function(e,t){return a.a.createElement(C,v({svgRef:t},e))}));n.p;function P(){var e=Object(l.a)(["\n      width: 50px;\n      height: 50px;\n    "]);return P=function(){return e},e}function U(){var e=Object(l.a)(["\n      height: 80%;\n    "]);return U=function(){return e},e}function M(){var e=Object(l.a)(["\n      fill: #98a0bc;\n    "]);return M=function(){return e},e}function H(){var e=Object(l.a)(["\n  fill: #fff;\n  position: absolute;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  \n  ","\n  ","\n  \n  ","\n"]);return H=function(){return e},e}!function(e){e[e.SMALL=0]="SMALL",e[e.LARGE=1]="LARGE"}(g||(g={}));var I=Object(f.default)((function(e){e.alternative,e.size;var t=Object(h.a)(e,["alternative","size"]);return a.a.createElement(L,t)}))(H(),(function(e){return e.alternative&&Object(f.css)(M())}),(function(e){return e.size===g.SMALL&&Object(f.css)(U())}),(function(e){return e.size===g.SMALL&&Object(f.css)(P())})),G=function(e){var t=e.alternative,n=e.size,r=void 0===n?g.LARGE:n,c=Object(h.a)(e,["alternative","size"]);return a.a.createElement(I,Object.assign({},c,{alternative:t,size:r}))};function N(){var e=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return N=function(){return e},e}var D=f.default.div(N()),F=Object(r.memo)((function(){return a.a.createElement(D,null,a.a.createElement(G,{alternative:!0,size:g.SMALL}))})),Z=Object(i.b)((function(e){return{isAuthorized:e.auth.isAuthorized,isReady:e.auth.isReady}}))((function(e){var t=e.component,n=e.isAuthorized,r=e.isReady,c=e.render,o=Object(h.a)(e,["component","isAuthorized","isReady","render"]);return a.a.createElement(s.b,Object.assign({},o,{render:function(e){return r?n?t?a.a.createElement(t,e):c?c(e):null:a.a.createElement(s.a,{to:"/login"}):a.a.createElement(F,null)}}))})),Q=n(27);function V(){var e=Object(l.a)(["\n  height: 100%;\n\n  a,\n  select,\n  input,\n  textarea,\n  button {\n    &:focus {\n      ",";\n    }\n  }\n"]);return V=function(){return e},e}var W,q=Object(f.default)((function(e){e.isTabMode;var t=Object(h.a)(e,["isTabMode"]);return a.a.createElement("div",t)}))(V(),(function(e){return!e.isTabMode&&"outline:none"})),B=Object(r.memo)((function(e){var t=e.children,n=Object(r.useState)(!1),c=Object(Q.a)(n,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){var e=function e(){i(!1),document.removeEventListener("mousemove",e)},t=function(t){"Tab"===t.key&&i(!0),document.addEventListener("mousemove",e)};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t),document.removeEventListener("mousemove",e)}}),[]),a.a.createElement(q,{isTabMode:o},t)})),J=n(13),K=n(8);!function(e){e.GET_AUTH_REQUEST="@@auth/get-auth/request",e.GET_AUTH_SUCCESS="@@auth/get-auth/success",e.GET_AUTH_FAILURE="@@auth/get-auth/failure",e.AUTHORIZE_REQUEST="@@auth/authorize/request",e.AUTHORIZE_SUCCESS="@@auth/authorize/success",e.AUTHORIZE_FAILURE="@@auth/authorize/failure",e.LOGOUT="@@auth/logout"}(W||(W={}));var $=Object(K.createAction)(W.GET_AUTH_REQUEST)(),X=Object(K.createAction)(W.GET_AUTH_SUCCESS)(),Y=Object(K.createAction)(W.GET_AUTH_FAILURE)(),ee=Object(K.createAction)(W.AUTHORIZE_REQUEST)(),te=Object(K.createAction)(W.AUTHORIZE_SUCCESS)(),ne=Object(K.createAction)(W.AUTHORIZE_FAILURE)(),re=Object(K.createAction)(W.LOGOUT)();function ae(){var e=Object(l.a)(["\n      pointer-events: none;\n      color: transparent;\n    "]);return ae=function(){return e},e}function ce(){var e=Object(l.a)(["\n  background-color: #407be2;\n  color: #fff;\n  position: relative;\n  border: none;\n  border-radius: 4px;\n  display: inline-flex;\n  height: 56px;\n  align-items: center;\n  justify-content: center;\n  font-weight: 500;\n  padding: 0 55px;\n  font-size: 15px;\n  cursor: pointer;\n  width: 100%;\n\n  &:hover {\n    background-color: #4283ee;\n  }\n\n  &:active {\n    box-shadow: inset 0 1px 2px 0 #407be2;\n  }\n\n  &:disabled {\n    pointer-events: none;\n    opacity: 0.5;\n  }\n\n  ","\n"]);return ce=function(){return e},e}var oe,ie=Object(f.default)((function(e){e.isLoading;var t=Object(h.a)(e,["isLoading"]);return a.a.createElement("button",t)}))(ce(),(function(e){return e.isLoading&&Object(f.css)(ae())})),ue=Object(r.memo)((function(e){var t=e.children,n=e.isLoading,r=Object(h.a)(e,["children","isLoading"]);return a.a.createElement(ie,Object.assign({},r,{isLoading:n}),t,n&&a.a.createElement(G,null))})),se=Object(r.memo)((function(e){var t=e.logout;return a.a.createElement(ue,{onClick:t},"Logout")})),le=Object(i.b)(null,(function(e){return Object(J.bindActionCreators)({logout:re},e)}))(se);!function(e){e.GET_PHOTOS_REQUEST="@@photos/get-photos/request",e.GET_PHOTOS_SUCCESS="@@photos/get-photos/success",e.GET_PHOTOS_FAILURE="@@photos/get-photos/failure",e.GET_MORE_PHOTOS_REQUEST="@@photos/get-more-photos/request",e.GET_MORE_PHOTOS_SUCCESS="@@photos/get-more-photos/success",e.GET_MORE_PHOTOS_FAILURE="@@photos/get-more-photos/failure"}(oe||(oe={}));var fe=Object(K.createAction)(oe.GET_PHOTOS_REQUEST)(),de=Object(K.createAction)(oe.GET_PHOTOS_SUCCESS)(),pe=Object(K.createAction)(oe.GET_PHOTOS_FAILURE)(),be=Object(K.createAction)(oe.GET_MORE_PHOTOS_REQUEST)(),me=Object(K.createAction)(oe.GET_MORE_PHOTOS_SUCCESS)(),he=Object(K.createAction)(oe.GET_MORE_PHOTOS_FAILURE)(),ve=Object(r.memo)((function(e){var t=e.children,n=e.hasMore,c=e.onLoadMore,o=a.a.createRef(),i=Object(r.useCallback)((function(e){Object(Q.a)(e,1)[0].isIntersecting&&n&&c()}),[n,c]);return Object(r.useEffect)((function(){if(o.current){var e=o.current,t=new IntersectionObserver(i,{root:null,rootMargin:"500px"});return t.observe(e),function(){t.unobserve(e)}}}),[i,o]),a.a.createElement(a.a.Fragment,null,t,a.a.createElement("div",{ref:o}))})),Oe=n(149),ge=n.n(Oe);function je(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(","px, 1fr));\n\n  @media screen and (max-width: ","px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n"]);return je=function(){return e},e}var Ee=f.default.div(je(),300,600);function ye(){var e=Object(l.a)(['\n  display: block;\n  width: 100%;\n  padding-bottom: 100%;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-image: url("','");\n']);return ye=function(){return e},e}var xe=Object(f.default)((function(e){e.image;var t=Object(h.a)(e,["image"]);return a.a.createElement(u.b,t)}))(ye(),(function(e){return e.image})),we=Object(r.memo)((function(e){var t=e.photo,n=e.className,r=t.id,c=t.small;return a.a.createElement(Re.Consumer,null,(function(e){return a.a.createElement(xe,{className:n,to:"/photos/".concat(e,"/").concat(r),image:c})}))}));function Se(){var e=Object(l.a)(["\n  position: sticky;\n  top: 0;\n  background-color: #fff;\n  padding: 15px 20px;\n"]);return Se=function(){return e},e}function ke(){var e=Object(l.a)(["\n  position: relative;\n"]);return ke=function(){return e},e}var Te=f.default.div(ke()),Ae=f.default.div(Se()),_e=Object(r.memo)((function(e){var t=e.photos,n=Object(r.useMemo)((function(){return ge()(t,(function(e){return new Date(e.originalDate).toLocaleDateString()}))}),[t]);return a.a.createElement(a.a.Fragment,null,Object.keys(n).map((function(e){return a.a.createElement(Te,{key:e},a.a.createElement(Ae,null,e),a.a.createElement(Ee,null,n[e].map((function(e){return a.a.createElement(we,{key:e.id,photo:e})}))))})))})),Re=a.a.createContext(0),ze=Object(r.memo)((function(e){var t=e.getPhotos,n=e.userId,c=e.next,o=e.loading,i=e.loaded,u=e.items,s=e.getMorePhotos;return Object(r.useEffect)((function(){t(n)}),[t,n]),a.a.createElement(Re.Provider,{value:n},o&&!i&&a.a.createElement(G,{alternative:!0,size:g.SMALL}),a.a.createElement(ve,{hasMore:!o&&!!c,onLoadMore:s},a.a.createElement(_e,{photos:u})))})),Ce=Object(i.b)((function(e){return e.photos}),(function(e){return Object(J.bindActionCreators)({getPhotos:fe,getMorePhotos:be},e)}))(ze),Le=n(7),Pe=n.n(Le),Ue=n(36),Me=n(65),He=n(66),Ie=n(150),Ge={apiUrl:"https://saas.cloudike.com",localStorageKey:"cloudike"},Ne=n.n(Ie).a.create({baseURL:Ge.apiUrl}),De=function(){function e(){Object(Me.a)(this,e)}return Object(He.a)(e,null,[{key:"getAll",value:function(){var e=Object(Ue.a)(Pe.a.mark((function e(t){var n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.get("/api/3/users/".concat(t,"/photos/items/"),{params:{limit:5}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(Ue.a)(Pe.a.mark((function e(t,n){var r;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.get("/api/3/users/".concat(t,"/photos/items/").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Fe=function(e){return{id:e.id,created:e.created,updated:e.updated,small:e._links.image_middle.href,preview:e._links.image_preview.href,originalDate:e.created_original}};function Ze(){var e=Object(l.a)(["\n      opacity: 0;\n    "]);return Ze=function(){return e},e}function Qe(){var e=Object(l.a)(["\n  max-height: 80vh;\n  max-width: 90vw;\n  z-index: 1;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  transition: opacity 300ms linear;\n\n  ","\n"]);return Qe=function(){return e},e}function Ve(){var e=Object(l.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n"]);return Ve=function(){return e},e}function We(){var e=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return We=function(){return e},e}var qe=f.default.div(We()),Be=f.default.div(Ve()),Je=Object(f.default)((function(e){e.loading;var t=Object(h.a)(e,["loading"]);return a.a.createElement("img",Object.assign({},t,{alt:"preview"}))}))(Qe(),(function(e){return e.loading&&Object(f.css)(Ze())})),Ke=Object(r.memo)((function(e){var t=e.photo,n=e.onClose;Object(r.useEffect)((function(){var e=document.body.style.overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]);var c=Object(r.useState)(!1),o=Object(Q.a)(c,2),i=o[0],u=o[1],s=Object(r.useCallback)((function(){u(!0)}),[]);return a.a.createElement(qe,null,a.a.createElement(Be,{onClick:n}),(!t||!i)&&a.a.createElement(G,{size:g.SMALL}),t&&a.a.createElement(Je,{src:t.preview,loading:!i,onLoad:s}))})),$e=Object(r.memo)((function(e){var t=e.match,n=e.history,c=Object(r.useCallback)((function(){n.push("/")}),[n]),o=t.params,i=o.id,u=o.userId,s=Object(r.useState)(null),l=Object(Q.a)(s,2),f=l[0],d=l[1];return Object(r.useEffect)((function(){De.get(parseInt(u,10),i).then((function(e){d(Fe(e))})).catch((function(){c()}))}),[i,u,c]),a.a.createElement(Ke,{photo:f,onClose:c})})),Xe=Object(r.memo)((function(e){var t=e.userData;return a.a.createElement(a.a.Fragment,null,a.a.createElement(le,null),a.a.createElement(Ce,{userId:t.userid}),a.a.createElement(s.b,{path:"/photos/:userId/:id",component:$e}))})),Ye=Object(i.b)((function(e){return e.auth}))(Xe),et=n(71),tt=n(70),nt=/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,rt=/(([+][(]?[0-9]{1,3}[)]?)|([(]?[0-9]{4}[)]?))\s*[)]?[-\s.]?[(]?[0-9]{1,3}[)]?([-\s.]?[0-9]{3})([-\s.]?[0-9]{3,4})/,at=function(e){return rt.test(e)};function ct(){var e=Object(l.a)(["\n  margin-bottom: 5px;\n  font-size: 0.8rem;\n"]);return ct=function(){return e},e}function ot(){var e=Object(l.a)(["\n  width: 100%;\n  border-radius: 4px;\n  border: 1px solid #bcc0c7;\n  box-sizing: border-box;\n  font-size: 1rem;\n  padding: 10px 15px;\n  line-height: 1;\n"]);return ot=function(){return e},e}function it(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column-reverse;\n"]);return it=function(){return e},e}var ut=f.default.label(it()),st=f.default.input(ot()),lt=f.default.span(ct()),ft=Object(r.memo)((function(e){var t=e.label,n=e.autoComplete,r=Object(h.a)(e,["label","autoComplete"]);return a.a.createElement(ut,null,a.a.createElement(st,Object.assign({},r,{autoComplete:n||"off"})),t&&a.a.createElement(lt,null,t))}));function dt(){var e=Object(l.a)(["\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  color: #f35159;\n  font-size: 0.8rem;\n"]);return dt=function(){return e},e}function pt(){var e=Object(l.a)(["\n      "," {\n        border-color: #f35159;\n      }\n\n      "," {\n        color: #f35159;\n      }\n    "]);return pt=function(){return e},e}function bt(){var e=Object(l.a)(["\n  position: relative;\n\n  ","\n"]);return bt=function(){return e},e}var mt=Object(f.default)((function(e){e.hasError;var t=Object(h.a)(e,["hasError"]);return a.a.createElement("div",t)}))(bt(),(function(e){return e.hasError&&Object(f.css)(pt(),st,lt)})),ht=f.default.div(dt()),vt=Object(r.memo)((function(e){var t=e.error,n=e.hasError,r=e.children;return a.a.createElement(mt,{hasError:n},n&&a.a.createElement(ht,null,t),r)}));function Ot(){var e=Object(l.a)(["\n  font-size: 1.6rem;\n"]);return Ot=function(){return e},e}function gt(){var e=Object(l.a)(["\n  color: #f35159;\n  font-size: 0.8em;\n  position: absolute;\n  top: 100%;\n  padding: 15px;\n"]);return gt=function(){return e},e}function jt(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-row-gap: 30px;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 17% 15%;\n  box-shadow: 0 20px 20px -10px rgba(0, 0, 0, 0.1);\n  position: relative;\n"]);return jt=function(){return e},e}var Et=f.default.form(jt()),yt=f.default.p(gt()),xt=f.default.div(Ot()),wt=tt.object().shape({login:tt.string().test("is-email-or-phone","Please, enter valid email or phone",(function(e){return Promise.resolve(at(e)||(t=e,nt.test(t)));var t})),password:tt.string().min(2).required("This field is required")}),St=Object(r.memo)((function(e){var t=e.onSubmit;return a.a.createElement(et.b,{onSubmit:t,validationSchema:wt,initialValues:{login:"",password:""}},(function(e){var t=e.handleSubmit,n=e.status,r=void 0===n?{}:n;return a.a.createElement(Et,{onSubmit:t},a.a.createElement(xt,null,"Sign in"),a.a.createElement(et.a,{name:"login"},(function(e){var t=e.field,n=e.meta;return a.a.createElement(vt,{hasError:n.touched&&!!n.error,error:n.error},a.a.createElement(ft,Object.assign({},t,{label:"Email or Phone"})))})),a.a.createElement(et.a,{name:"password"},(function(e){var t=e.field,n=e.meta;return a.a.createElement(vt,{hasError:n.touched&&!!n.error,error:n.error},a.a.createElement(ft,Object.assign({},t,{type:"password",label:"Password"})))})),a.a.createElement(ue,{type:"submit",isLoading:r.loading},"Sign in"),r.error&&a.a.createElement(yt,null,r.error))}))}));function kt(){return(kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var At=a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.003,0C8.061,0,0,8.061,0,18.004s8.061,18.004,18.003,18.004 c9.943,0,18.003-8.061,18.003-18.004S27.947,0,18.003,0z M18.141,23.609c1.555,0,2.962-0.636,3.976-1.66l5.472,5.474 c0.073,0.072-1.446,0.154-2.982,1.017c-1.145,0.644-2.18,2.04-2.489,2.48c-0.266,0.379-0.426-0.659,0.539-1.952 c1.088-1.459,1.886-1.723,2.271-2.119c0-0.185-2.393-2.639-6.407-1.204c-4.013,1.435-4.172,4.621-3.935,4.776 c0.126,0.082,1.008,0.231,1.804,0.931c0.912,0.761,1.349,1.711,1.321,1.827c-0.009,0.036-1.192-1.195-2.7-1.827 c-1.199-0.504-2.747-0.432-3.033-0.432c-0.181,0-0.267-0.274,0.411-0.499c0.678-0.225,0.692-0.309,0.609-0.471 c-0.072-0.139-0.799-1.301-2.45-1.943c-1.65-0.643-3.164-0.167-3.164-0.167s-0.876-0.938-1.7-2.308 c-0.662-1.1-1.266-2.54-1.542-3.521c-0.352-1.25-0.54-2.569-0.54-3.932c0-7.996,6.481-14.479,14.475-14.479 c4.041,0,7.695,1.656,10.321,4.327l-6.215,6.218c-1.018-1.063-2.452-1.726-4.041-1.726c-3.088,0-5.592,2.504-5.592,5.593 C12.549,21.104,15.052,23.609,18.141,23.609z"}),_t=a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M135.651,22.894v-2.586h-4.464v-1.07h4.362v-2.586h-4.362v-0.969 h4.464V13.1h-7.431v9.795H135.651z M125.452,22.894l-3.862-5.242l3.701-4.553h-3.627l-2.57,3.67V13.1h-2.966v9.795h2.966v-2.717 l0.543-0.734l2.203,3.451H125.452z M112.301,22.894V13.1h-2.967v9.795H112.301z M100.663,20.309h-1.41v-4.625h1.425 c1.586,0,2.35,0.982,2.35,2.305C103.027,19.223,102.146,20.309,100.663,20.309z M100.677,22.894c3.069,0,5.36-1.777,5.36-4.906 c0-3.127-2.291-4.889-5.375-4.889h-4.376v9.795H100.677z M87.629,23.07c3.304,0,4.832-1.777,4.832-4.215V13.1H89.45v5.668 c0,0.94-0.616,1.69-1.821,1.69c-1.219,0-1.835-0.75-1.835-1.69V13.1h-3.011v5.769C82.782,21.293,84.325,23.07,87.629,23.07z  M74.126,20.457c-1.425,0-2.35-1.088-2.35-2.453c0-1.367,0.925-2.451,2.35-2.451c1.424,0,2.349,1.084,2.349,2.451 C76.475,19.369,75.55,20.457,74.126,20.457z M74.126,23.07c3.025,0,5.36-2.055,5.36-5.066s-2.335-5.066-5.36-5.066 c-3.025,0-5.36,2.055-5.36,5.066S71.1,23.07,74.126,23.07z M66.159,22.894v-2.586h-3.716V13.1h-2.966v9.795H66.159z M51.861,23.07 c2.57,0,3.877-1.557,4.45-2.863l-2.555-1.176c-0.25,0.764-1.014,1.426-1.895,1.426c-1.424,0-2.379-1.088-2.379-2.453 c0-1.367,0.955-2.451,2.379-2.451c0.881,0,1.646,0.658,1.895,1.424l2.555-1.191c-0.587-1.352-1.88-2.848-4.45-2.848 c-3.069,0-5.389,2.041-5.389,5.066C46.472,21.016,48.792,23.07,51.861,23.07z"}),Rt=function(e){var t=e.svgRef,n=e.title,r=Tt(e,["svgRef","title"]);return a.a.createElement("svg",kt({id:"Layer_1",x:"0px",y:"0px",width:"135.651px",height:"36.008px",viewBox:"0 0 135.651 36.008",enableBackground:"new 0 0 135.651 36.008",xmlSpace:"preserve",ref:t},r),n?a.a.createElement("title",null,n):null,At,_t)},zt=a.a.forwardRef((function(e,t){return a.a.createElement(Rt,kt({svgRef:t},e))}));n.p;function Ct(){var e=Object(l.a)(["\n      fill: #4283ee;\n    "]);return Ct=function(){return e},e}function Lt(){var e=Object(l.a)(["\n  fill: #fff;\n\n  ","\n"]);return Lt=function(){return e},e}var Pt=Object(f.default)((function(e){e.alternative;var t=Object(h.a)(e,["alternative"]);return a.a.createElement(zt,t)}))(Lt(),(function(e){return e.alternative&&Object(f.css)(Ct())}));function Ut(){var e=Object(l.a)(["\n  max-width: 400px;\n  width: 100%;\n  position: relative;\n\n  "," {\n    position: absolute;\n    top: -60px;\n    left: 50%;\n    width: 120px;\n    transform: translateX(-50%);\n  }\n"]);return Ut=function(){return e},e}function Mt(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  height: 100%;\n  background-color: #f5f5f5;\n  padding: 15px;\n  box-sizing: border-box;\n"]);return Mt=function(){return e},e}var Ht=f.default.div(Mt()),It=f.default.div(Ut(),Pt),Gt=Object(r.memo)((function(e){var t=e.authorize;return e.isAuthorized?a.a.createElement(s.a,{to:"/"}):a.a.createElement(Ht,null,a.a.createElement(It,null,a.a.createElement(Pt,{alternative:!0}),a.a.createElement(St,{onSubmit:t})))})),Nt=Object(i.b)((function(e){return e.auth}),(function(e){return Object(J.bindActionCreators)({authorize:ee},e)}))(Gt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Dt=n(153),Ft=n(155),Zt=n(69),Qt=n(154),Vt=n.n(Qt),Wt=function(e){try{var t=JSON.parse(localStorage.getItem(Ge.localStorageKey))||{};return e?t[e]:t}catch(n){return{}}},qt=function(e){var t=Wt();localStorage.setItem(Ge.localStorageKey,JSON.stringify(Vt()(t,e)))};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(n,!0).forEach((function(t){Object(Zt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt={isAuthorized:!1,token:"",isReady:!1,userData:{userid:-1}},$t=Jt({},Kt,{},Wt("auth")),Xt=Object(K.createReducer)($t).handleAction(re,(function(){return Kt})).handleAction(X,(function(e,t){return Jt({},e,{isAuthorized:!0,userData:t.payload,isReady:!0})})).handleAction(Y,(function(e){return Jt({},e,{isAuthorized:!1,isReady:!0})})).handleAction(te,(function(e,t){return Jt({},e,{isAuthorized:!0,token:t.payload})})).handleAction(ne,(function(e){return Jt({},e,{isAuthorized:!1})})),Yt=n(93);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(n,!0).forEach((function(t){Object(Zt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn={loaded:!1,loading:!1,next:null,items:[]},rn=Object(K.createReducer)(nn).handleAction(re,(function(){return nn})).handleAction(fe,(function(e){return tn({},e,{loaded:!1,loading:!0})})).handleAction(de,(function(e,t){return tn({},e,{loaded:!0,loading:!1,next:t.payload.next,items:t.payload.items})})).handleAction(me,(function(e,t){return tn({},e,{loading:!1,next:t.payload.next,items:[].concat(Object(Yt.a)(e.items),Object(Yt.a)(t.payload.items))})})),an=Object(J.combineReducers)({auth:Xt,photos:rn}),cn=n(6),on=function(){function e(){Object(Me.a)(this,e)}return Object(He.a)(e,null,[{key:"getAuth",value:function(){var e=Object(Ue.a)(Pe.a.mark((function e(){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.get("/api/2/accounts/get/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"authorizeWithEmail",value:function(){var e=Object(Ue.a)(Pe.a.mark((function e(t){var n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.post("/api/2/accounts/login/",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"authorizeWithPhone",value:function(){var e=Object(Ue.a)(Pe.a.mark((function e(t){var n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.post("/api/2/accounts/login_by_phone/",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),un=Pe.a.mark(dn),sn=Pe.a.mark(pn),ln=Pe.a.mark(hn),fn=Pe.a.mark(vn);function dn(){var e;return Pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(cn.e)();case 2:if(t.sent.auth.token){t.next=7;break}return t.next=6,Object(cn.d)(Y());case 6:return t.abrupt("return",t.sent);case 7:return t.next=9,on.getAuth();case 9:if(!(e=t.sent).error){t.next=14;break}return t.next=13,Object(cn.d)(Y());case 13:return t.abrupt("return",t.sent);case 14:return t.next=16,Object(cn.d)(X(e));case 16:case"end":return t.stop()}}),un)}function pn(e){var t,n,r,a,c,o;return Pe.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if((t=e.meta).setStatus({loading:!0}),n=e.payload,r=n.login,a=n.password,!at(e.payload.login)){i.next=10;break}return i.next=7,on.authorizeWithPhone({password:a,phone:r});case 7:c=i.sent,i.next=13;break;case 10:return i.next=12,on.authorizeWithEmail({password:a,email:r});case 12:c=i.sent;case 13:if(!c.error){i.next=19;break}return o=c.error.response.data.description,t.setStatus({error:o,loading:!1}),i.next=18,Object(cn.d)(ne());case 18:return i.abrupt("return",i.sent);case 19:return t.setStatus({loading:!1}),i.next=22,Object(cn.d)(te(c.token));case 22:return i.abrupt("return",i.sent);case 23:case"end":return i.stop()}}),sn)}function bn(e){qt({auth:{token:e.payload}})}function mn(){qt({auth:{token:""}})}function hn(){var e;return Pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(cn.e)();case 2:return e=t.sent,Ne.defaults.headers["Mountbit-Auth"]=e.auth.token,t.next=6,Object(cn.d)($());case 6:case"end":return t.stop()}}),ln)}function vn(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(cn.a)([Object(cn.b)(hn),Object(cn.f)(Object(K.getType)($),dn),Object(cn.f)(Object(K.getType)(ee),pn),Object(cn.f)(Object(K.getType)(te),bn),Object(cn.f)(Object(K.getType)(te),hn),Object(cn.f)(Object(K.getType)(re),mn),Object(cn.f)(Object(K.getType)(re),hn)]);case 2:case"end":return e.stop()}}),fn)}var On=function(e){return e?e.href.split(Ge.apiUrl)[1]:null},gn=Pe.a.mark(yn),jn=Pe.a.mark(xn),En=Pe.a.mark(wn);function yn(e){var t,n;return Pe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,De.getAll(e.payload);case 2:if(!(t=r.sent).error){r.next=7;break}return r.next=6,Object(cn.d)(pe());case 6:return r.abrupt("return",r.sent);case 7:return r.prev=7,n=t._embedded.items.map(Fe),r.next=11,Object(cn.d)(de({items:n,next:On(t._links.next)}));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(7),r.next=17,Object(cn.d)(pe());case 17:case"end":return r.stop()}}),gn,null,[[7,13]])}function xn(){var e,t,n,r,a;return Pe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(cn.e)();case 2:if(e=c.sent,t=e.photos.next){c.next=8;break}return c.next=7,Object(cn.d)(he());case 7:return c.abrupt("return",c.sent);case 8:return c.prev=8,c.next=11,Ne.get(t);case 11:return n=c.sent,r=n.data,a=r._embedded.items.map(Fe),c.next=16,Object(cn.d)(me({items:a,next:On(r._links.next)}));case 16:c.next=22;break;case 18:return c.prev=18,c.t0=c.catch(8),c.next=22,Object(cn.d)(he());case 22:case"end":return c.stop()}}),jn,null,[[8,18]])}function wn(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(cn.a)([Object(cn.f)(Object(K.getType)(fe),yn),Object(cn.f)(Object(K.getType)(be),xn)]);case 2:case"end":return e.stop()}}),En)}var Sn=Pe.a.mark(kn);function kn(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(cn.a)([Object(cn.c)(vn),Object(cn.c)(wn)]);case 2:case"end":return e.stop()}}),Sn)}var Tn,An=Object(Ft.a)(),_n=document.getElementById("root"),Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(J.createStore)(an,e,Object(Dt.composeWithDevTools)(Object(J.applyMiddleware)(An)));An.run(kn);return t}();Tn=function(e){var t=e.store;return a.a.createElement(B,null,a.a.createElement(i.a,{store:t},a.a.createElement(u.a,{basename:"/cloudike"},a.a.createElement(s.d,null,a.a.createElement(s.b,{path:"/login",component:Nt}),a.a.createElement(Z,{path:"/",component:Ye}))),a.a.createElement(m,null)))},o.a.render(a.a.createElement(Tn,{store:Rn}),_n),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[158,1,2]]]);
//# sourceMappingURL=main.5bee85e1.chunk.js.map