{"version":3,"sources":["assets/styles/GlobalStyles.ts","assets/icons/spinner.svg","components/common/Spinner.tsx","components/common/Loading.tsx","components/common/PrivateRoute.tsx","components/common/TabMode.tsx","store/auth/types.ts","store/auth/actions.ts","components/common/Button.tsx","store/photos/types.ts","components/auth/LogoutButton.tsx","store/photos/actions.ts","components/common/InfiniteScroll.tsx","components/common/SquareGrid.tsx","components/photos/PhotoPreview.tsx","components/photos/PhotosByDate.tsx","components/photos/Photos.tsx","config/environment.ts","config/axios.ts","services/PhotoService.ts","store/photos/mappers.ts","components/photos/PhotoModal.tsx","components/pages/Photo.tsx","components/pages/Dashboard.tsx","utils/validations.ts","components/forms/Input.tsx","components/forms/FieldError.tsx","components/auth/SignInForm.tsx","assets/icons/logo.svg","components/common/Logo.tsx","components/pages/Login.tsx","serviceWorker.ts","store/localStorage.ts","store/auth/reducer.ts","store/photos/reducer.ts","store/reducer.ts","services/AuthService.ts","store/auth/saga.ts","utils/parseLink.ts","store/photos/saga.ts","store/saga.ts","store/configureStore.ts","index.tsx","App.tsx"],"names":["GlobalStyles","createGlobalStyle","reset","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SpinnerSize","createElement","transform","x","y","rx","ry","width","height","attributeName","values","keyTimes","dur","begin","repeatCount","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref","svgRef","title","props","className","viewBox","preserveAspectRatio","style","background","ref","ForwardRef","forwardRef","StyledSpinnerIcon","styled","alternative","size","css","SMALL","Spinner","LARGE","Wrapper","div","Loading","memo","PrivateRoute","connect","state","isAuthorized","auth","isReady","Component","component","render","restProps","to","AuthActionTypes","isTabMode","TabMode","children","useState","isEnabled","setEnabled","useEffect","onMouseMove","document","removeEventListener","onKeyDown","event","addEventListener","getAuthRequest","createAction","GET_AUTH_REQUEST","getAuthSuccess","GET_AUTH_SUCCESS","getAuthFailure","GET_AUTH_FAILURE","authorizeRequest","AUTHORIZE_REQUEST","authorizeSuccess","AUTHORIZE_SUCCESS","authorizeFailure","AUTHORIZE_FAILURE","logout","LOGOUT","PhotosActionTypes","StyledButton","isLoading","Button","EnhancedLogoutButton","onClick","LogoutButton","dispatch","bindActionCreators","getPhotosRequest","GET_PHOTOS_REQUEST","getPhotosRequestSuccess","GET_PHOTOS_SUCCESS","getPhotosRequestFailure","GET_PHOTOS_FAILURE","getMorePhotosRequest","GET_MORE_PHOTOS_REQUEST","getMorePhotosRequestSuccess","GET_MORE_PHOTOS_SUCCESS","getMorePhotosRequestFailure","GET_MORE_PHOTOS_FAILURE","InfiniteScroll","hasMore","onLoadMore","trigger","React","createRef","loadMore","useCallback","entries","isIntersecting","current","triggerElement","observer","IntersectionObserver","root","rootMargin","observe","unobserve","SquareGrid","MIN_COLUMN_WIDTH","StyledLink","image","PhotoPreview","photo","id","small","PhotosContext","Consumer","userId","Header","PhotosByDate","photos","groupedPhotos","useMemo","groupBy","Date","originalDate","toLocaleDateString","map","date","item","createContext","EnhancedPhotos","getPhotos","next","loading","loaded","items","getMorePhotos","Provider","value","Photos","environment","apiUrl","process","localStorageKey","axiosClient","axios","create","baseURL","PhotoService","get","params","limit","response","data","error","photoId","mapPhotoItem","created","updated","_links","image_middle","href","preview","image_preview","created_original","Background","Content","alt","PhotoModal","onClose","overflow","body","isLoaded","setLoaded","onImageLoad","src","onLoad","Photo","match","history","push","setPhoto","parseInt","then","catch","EnhancedDashboard","userData","userid","path","Dashboard","EMAIL_REGEX","PHONE_REGEX","validatePhone","phone","test","label","StyledInput","input","Label","span","Input","autoComplete","hasError","TextInput","TextLabel","Error","FieldError","Form","form","FormError","p","Title","ValidationSchema","Yup","shape","login","Promise","resolve","email","password","min","required","SignInForm","onSubmit","validationSchema","initialValues","handleSubmit","status","name","field","meta","touched","type","fillRule","clipRule","d","enableBackground","xmlSpace","Logo","FormWrapper","EnhancedLogin","authorize","Login","Boolean","window","location","hostname","getState","reducerKey","savedState","JSON","parse","localStorage","getItem","saveState","localStorageState","setItem","stringify","merge","clearState","token","initialState","authReducer","createReducer","handleAction","actions","action","payload","photosReducer","rootReducer","combineReducers","AuthService","post","getAuth","initialize","authSaga","select","put","formApi","setStatus","authorizeWithPhone","authorizeWithEmail","message","description","saveToken","removeToken","defaults","headers","all","takeEvery","getType","parseLink","link","split","photosSaga","getAll","_embedded","rootSaga","fork","sagaMiddleware","createSagaMiddleware","rootElement","getElementById","store","preloadedState","createStore","composeWithDevTools","applyMiddleware","run","configureStore","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.07db7f1c.chunk.js","sourcesContent":["import { createGlobalStyle } from \"styled-components\";\nimport reset from \"styled-reset\";\n\nexport const GlobalStyles = createGlobalStyle`\n  ${reset};\n  \n  html, body, #root {\n    height: 100%;\n  }\n  \n  html {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n    font-size: 16px;\n  }\n  \n  p {\n    line-height: 1.2;\n  }\n  \n  @media screen and (max-width: 480px){\n    html {\n      font-size: 14px;\n    }\n  }\n`;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(0 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.9166666666666666s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(30 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.8333333333333334s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(60 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.75s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(90 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.6666666666666666s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(120 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.5833333333333334s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(150 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.5s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(180 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.4166666666666667s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(210 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.3333333333333333s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(240 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.25s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(270 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.16666666666666666s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(300 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"-0.08333333333333333s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"rotate(330 50 50)\"\n}, React.createElement(\"rect\", {\n  x: 47,\n  y: 24,\n  rx: 9.4,\n  ry: 4.8,\n  width: 6,\n  height: 12\n}, React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: \"1s\",\n  begin: \"0s\",\n  repeatCount: \"indefinite\"\n})));\n\nvar SvgSpinner = function SvgSpinner(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    className: \"lds-spinner\",\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    style: {\n      background: \"none\"\n    },\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSpinner, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/spinner.97c55415.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC, SVGAttributes } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { ReactComponent as SpinnerIcon } from \"../../assets/icons/spinner.svg\";\n\nexport enum SpinnerSize {\n  SMALL,\n  LARGE\n}\n\nexport const StyledSpinnerIcon = styled(({ alternative, size, ...props }) => (\n  <SpinnerIcon {...props} />\n))`\n  fill: #fff;\n  position: absolute;\n  height: 80%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  \n  ${props =>\n    props.alternative &&\n    css`\n      fill: #98a0bc;\n    `}\n  ${props =>\n    props.size === SpinnerSize.SMALL &&\n    css`\n      height: 80%;\n    `}\n  \n  ${props =>\n    props.size === SpinnerSize.SMALL &&\n    css`\n      width: 50px;\n      height: 50px;\n    `}\n`;\n\ntype Props = {\n  alternative?: boolean;\n  size?: SpinnerSize;\n} & SVGAttributes<SVGElement>;\n\nexport const Spinner: FC<Props> = ({\n  alternative,\n  size = SpinnerSize.LARGE,\n  ...props\n}) => {\n  return <StyledSpinnerIcon {...props} alternative={alternative} size={size} />;\n};\n","import React, { FC, memo } from \"react\";\nimport styled from \"styled-components\";\nimport { Spinner, SpinnerSize } from \"./Spinner\";\n\nconst Wrapper = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Loading: FC = memo(() => {\n  return (\n    <Wrapper>\n      <Spinner alternative={true} size={SpinnerSize.SMALL} />\n    </Wrapper>\n  );\n});\n","import React, { ComponentType, FC } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\nimport { RootState } from \"../../store/reducer\";\nimport { Loading } from \"./Loading\";\n\ntype OwnProps = RouteProps;\ntype StateProps = {\n  isAuthorized: boolean;\n  isReady: boolean;\n};\ntype Props = OwnProps & StateProps;\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    isAuthorized: state.auth.isAuthorized,\n    isReady: state.auth.isReady\n  };\n};\n\nconst EnhancedPrivateRoute: FC<Props> = ({\n  component: Component,\n  isAuthorized,\n  isReady,\n  render,\n  ...restProps\n}) => {\n  const preRender = (props: any) => {\n    if (!isReady) {\n      return <Loading />;\n    }\n\n    if (!isAuthorized) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    if (Component) {\n      return <Component {...props} />;\n    }\n\n    if (render) {\n      return render(props);\n    }\n\n    return null;\n  };\n\n  return <Route {...restProps} render={preRender} />;\n};\n\nexport const PrivateRoute = connect(mapStateToProps)(\n  EnhancedPrivateRoute\n) as ComponentType<OwnProps>;\n","import React, { FC, memo, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled(({ isTabMode, ...props }) => <div {...props} />)`\n  height: 100%;\n\n  a,\n  select,\n  input,\n  textarea,\n  button {\n    &:focus {\n      ${props => !props.isTabMode && `outline:none`};\n    }\n  }\n`;\n\nexport const TabMode: FC = memo(({ children }) => {\n  const [isEnabled, setEnabled] = useState(false);\n\n  useEffect(() => {\n    const onMouseMove = () => {\n      setEnabled(false);\n\n      document.removeEventListener(\"mousemove\", onMouseMove);\n    };\n\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.key === \"Tab\") {\n        setEnabled(true);\n      }\n\n      document.addEventListener(\"mousemove\", onMouseMove);\n    };\n\n    document.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", onKeyDown);\n      document.removeEventListener(\"mousemove\", onMouseMove);\n    };\n  }, []);\n\n  return <Wrapper isTabMode={isEnabled}>{children}</Wrapper>;\n});\n","import { ActionType } from \"typesafe-actions\";\nimport { logout } from \"./actions\";\n\nexport type AuthState = {\n  isAuthorized: boolean;\n  token: string;\n  isReady: boolean;\n  userData: UserDataPayload;\n};\n\nexport enum AuthActionTypes {\n  GET_AUTH_REQUEST = \"@@auth/get-auth/request\",\n  GET_AUTH_SUCCESS = \"@@auth/get-auth/success\",\n  GET_AUTH_FAILURE = \"@@auth/get-auth/failure\",\n  AUTHORIZE_REQUEST = \"@@auth/authorize/request\",\n  AUTHORIZE_SUCCESS = \"@@auth/authorize/success\",\n  AUTHORIZE_FAILURE = \"@@auth/authorize/failure\",\n  LOGOUT = \"@@auth/logout\"\n}\n\nexport type AuthorizeRequestPayload = {\n  login: string;\n  password: string;\n};\n\nexport type UserDataPayload = {\n  userid: number;\n};\n\nexport type LogoutActionType = ActionType<typeof logout>;\n","import { FormikHelpers } from \"formik\";\nimport { createAction } from \"typesafe-actions\";\nimport {\n  AuthActionTypes,\n  AuthorizeRequestPayload,\n  UserDataPayload\n} from \"./types\";\n\nexport const getAuthRequest = createAction(AuthActionTypes.GET_AUTH_REQUEST)();\nexport const getAuthSuccess = createAction(AuthActionTypes.GET_AUTH_SUCCESS)<\n  UserDataPayload\n>();\nexport const getAuthFailure = createAction(AuthActionTypes.GET_AUTH_FAILURE)();\n\nexport const authorizeRequest = createAction(AuthActionTypes.AUTHORIZE_REQUEST)<\n  AuthorizeRequestPayload,\n  FormikHelpers<AuthorizeRequestPayload>\n>();\nexport const authorizeSuccess = createAction(AuthActionTypes.AUTHORIZE_SUCCESS)<\n  string\n>();\nexport const authorizeFailure = createAction(\n  AuthActionTypes.AUTHORIZE_FAILURE\n)();\n\nexport const logout = createAction(AuthActionTypes.LOGOUT)();\n","import React, { ButtonHTMLAttributes, FC, memo } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Spinner } from \"./Spinner\";\n\ntype Props = ButtonHTMLAttributes<HTMLButtonElement> & {\n  isLoading?: boolean;\n};\n\nconst StyledButton = styled(({ isLoading, ...props }) => <button {...props} />)`\n  background-color: #407be2;\n  color: #fff;\n  position: relative;\n  border: none;\n  border-radius: 4px;\n  display: inline-flex;\n  height: 56px;\n  align-items: center;\n  justify-content: center;\n  font-weight: 500;\n  padding: 0 55px;\n  font-size: 15px;\n  cursor: pointer;\n  width: 100%;\n\n  &:hover {\n    background-color: #4283ee;\n  }\n\n  &:active {\n    box-shadow: inset 0 1px 2px 0 #407be2;\n  }\n\n  &:disabled {\n    pointer-events: none;\n    opacity: 0.5;\n  }\n\n  ${props =>\n    props.isLoading &&\n    css`\n      pointer-events: none;\n      color: transparent;\n    `}\n`;\n\nexport const Button: FC<Props> = memo(({ children, isLoading, ...props }) => {\n  return (\n    <StyledButton {...props} isLoading={isLoading}>\n      {children}\n\n      {isLoading && <Spinner />}\n    </StyledButton>\n  );\n});\n","export type PhotosState = {\n  loading: boolean;\n  loaded: boolean;\n  next: string | null;\n  items: PhotoItem[];\n};\n\nexport enum PhotosActionTypes {\n  GET_PHOTOS_REQUEST = \"@@photos/get-photos/request\",\n  GET_PHOTOS_SUCCESS = \"@@photos/get-photos/success\",\n  GET_PHOTOS_FAILURE = \"@@photos/get-photos/failure\",\n\n  GET_MORE_PHOTOS_REQUEST = \"@@photos/get-more-photos/request\",\n  GET_MORE_PHOTOS_SUCCESS = \"@@photos/get-more-photos/success\",\n  GET_MORE_PHOTOS_FAILURE = \"@@photos/get-more-photos/failure\"\n}\n\nexport type PhotoItem = {\n  created: number;\n  updated: number;\n  originalDate: number;\n  preview: string;\n  small: string;\n  id: string;\n};\n","import React, { FC, memo } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport { logout } from \"../../store/auth/actions\";\nimport { Button } from \"../common/Button\";\n\ntype DispatchProps = {\n  logout: typeof logout;\n};\n\ntype OwnProps = {};\n\ntype Props = DispatchProps & OwnProps;\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      logout\n    },\n    dispatch\n  );\n\nconst EnhancedLogoutButton: FC<Props> = memo(({ logout }) => (\n  <Button onClick={logout}>Logout</Button>\n));\n\nexport const LogoutButton: FC<OwnProps> = connect(\n  null,\n  mapDispatchToProps\n)(EnhancedLogoutButton);\n","import { createAction } from \"typesafe-actions\";\nimport { PhotoItem, PhotosActionTypes } from \"./types\";\n\nexport const getPhotosRequest = createAction(\n  PhotosActionTypes.GET_PHOTOS_REQUEST\n)<number>();\nexport const getPhotosRequestSuccess = createAction(\n  PhotosActionTypes.GET_PHOTOS_SUCCESS\n)<{ next: string | null; items: PhotoItem[] }>();\nexport const getPhotosRequestFailure = createAction(\n  PhotosActionTypes.GET_PHOTOS_FAILURE\n)();\n\nexport const getMorePhotosRequest = createAction(\n  PhotosActionTypes.GET_MORE_PHOTOS_REQUEST\n)();\nexport const getMorePhotosRequestSuccess = createAction(\n  PhotosActionTypes.GET_MORE_PHOTOS_SUCCESS\n)<{ next: string | null; items: PhotoItem[] }>();\nexport const getMorePhotosRequestFailure = createAction(\n  PhotosActionTypes.GET_MORE_PHOTOS_FAILURE\n)();\n","import React, { FC, memo, useCallback, useEffect } from \"react\";\n\ntype Props = {\n  onLoadMore: () => void;\n  hasMore: boolean;\n};\n\nexport const InfiniteScroll: FC<Props> = memo(\n  ({ children, hasMore, onLoadMore }) => {\n    const trigger = React.createRef<HTMLDivElement>();\n\n    const loadMore = useCallback(\n      (entries: IntersectionObserverEntry[]) => {\n        const [target] = entries;\n\n        if (target.isIntersecting && hasMore) {\n          onLoadMore();\n        }\n      },\n      [hasMore, onLoadMore]\n    );\n\n    useEffect(() => {\n      if (!trigger.current) {\n        return;\n      }\n\n      const triggerElement = trigger.current;\n\n      const options = {\n        root: null,\n        rootMargin: \"500px\"\n      };\n\n      const observer = new IntersectionObserver(loadMore, options);\n\n      observer.observe(triggerElement);\n\n      return () => {\n        observer.unobserve(triggerElement as Element);\n      };\n    }, [loadMore, trigger]);\n\n    return (\n      <>\n        {children}\n\n        <div ref={trigger} />\n      </>\n    );\n  }\n);\n","import styled from \"styled-components\";\n\nconst MIN_COLUMN_WIDTH = 300;\n\nexport const SquareGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(${MIN_COLUMN_WIDTH}px, 1fr));\n\n  @media screen and (max-width: ${MIN_COLUMN_WIDTH * 2}px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n`;\n","import React, { FC, memo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { PhotoItem } from \"../../store/photos/types\";\nimport { PhotosContext } from \"./Photos\";\n\ntype Props = {\n  photo: PhotoItem;\n  className?: string;\n};\n\nconst StyledLink = styled(({ image, ...props }) => <Link {...props} />)`\n  display: block;\n  width: 100%;\n  padding-bottom: 100%;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-image: url(\"${props => props.image}\");\n`;\n\nexport const PhotoPreview: FC<Props> = memo(({ photo, className }) => {\n  const { id, small } = photo;\n\n  return (\n    <PhotosContext.Consumer>\n      {userId => (\n        <StyledLink\n          className={className}\n          to={`/photos/${userId}/${id}`}\n          image={small}\n        />\n      )}\n    </PhotosContext.Consumer>\n  );\n});\n","import groupBy from \"lodash.groupby\";\nimport React, { FC, memo, useMemo } from \"react\";\nimport styled from \"styled-components\";\nimport { PhotoItem } from \"../../store/photos/types\";\nimport { SquareGrid } from \"../common/SquareGrid\";\nimport { PhotoPreview } from \"./PhotoPreview\";\n\ntype Props = {\n  photos: PhotoItem[];\n};\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\nconst Header = styled.div`\n  position: sticky;\n  top: 0;\n  background-color: #fff;\n  padding: 15px 20px;\n`;\n\nexport const PhotosByDate: FC<Props> = memo(({ photos }) => {\n  const groupedPhotos = useMemo(\n    () =>\n      groupBy(photos, photo => {\n        return new Date(photo.originalDate).toLocaleDateString();\n      }),\n    [photos]\n  );\n\n  return (\n    <>\n      {Object.keys(groupedPhotos).map(date => {\n        return (\n          <Wrapper key={date}>\n            <Header>{date}</Header>\n\n            <SquareGrid>\n              {groupedPhotos[date].map(item => (\n                <PhotoPreview key={item.id} photo={item} />\n              ))}\n            </SquareGrid>\n          </Wrapper>\n        );\n      })}\n    </>\n  );\n});\n","import React, { FC, memo, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport {\n  getMorePhotosRequest,\n  getPhotosRequest\n} from \"../../store/photos/actions\";\nimport { PhotosState } from \"../../store/photos/types\";\nimport { RootState } from \"../../store/reducer\";\nimport { InfiniteScroll } from \"../common/InfiniteScroll\";\nimport { Spinner, SpinnerSize } from \"../common/Spinner\";\nimport { PhotosByDate } from \"./PhotosByDate\";\n\ntype OwnProps = {\n  userId: number;\n};\ntype DispatchProps = {\n  getPhotos: typeof getPhotosRequest;\n  getMorePhotos: typeof getMorePhotosRequest;\n};\ntype StateProps = PhotosState;\ntype Props = OwnProps & StateProps & DispatchProps;\n\nconst mapStateToProps = (state: RootState): PhotosState => {\n  return state.photos;\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  return bindActionCreators(\n    {\n      getPhotos: getPhotosRequest,\n      getMorePhotos: getMorePhotosRequest\n    },\n    dispatch\n  );\n};\n\nexport const PhotosContext = React.createContext(0);\n\nconst EnhancedPhotos: FC<Props> = memo(\n  ({ getPhotos, userId, next, loading, loaded, items, getMorePhotos }) => {\n    useEffect(() => {\n      getPhotos(userId);\n    }, [getPhotos, userId]);\n\n    return (\n      <PhotosContext.Provider value={userId}>\n        {loading && !loaded && (\n          <Spinner alternative={true} size={SpinnerSize.SMALL} />\n        )}\n\n        <InfiniteScroll hasMore={!loading && !!next} onLoadMore={getMorePhotos}>\n          <PhotosByDate photos={items} />\n        </InfiniteScroll>\n      </PhotosContext.Provider>\n    );\n  }\n);\n\nexport const Photos: FC<OwnProps> = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EnhancedPhotos);\n","type Environment = {\n  apiUrl: string;\n  localStorageKey: string;\n};\n\nexport const environment: Environment = {\n  apiUrl: process.env.REACT_APP_API_URL || \"\",\n  localStorageKey: \"cloudike\"\n};\n","import axios from \"axios\";\nimport { environment } from \"./environment\";\n\nexport const axiosClient = axios.create({\n  baseURL: environment.apiUrl\n});\n","import { axiosClient } from \"../config/axios\";\n\nexport class PhotoService {\n  static async getAll(userId: number) {\n    try {\n      const response = await axiosClient.get(\n        `/api/3/users/${userId}/photos/items/`,\n        {\n          params: {\n            limit: 5\n          }\n        }\n      );\n\n      return response.data;\n    } catch (error) {\n      return {\n        error\n      };\n    }\n  }\n\n  static async get(userId: number, photoId: string) {\n    try {\n      const response = await axiosClient.get(\n        `/api/3/users/${userId}/photos/items/${photoId}`\n      );\n\n      return response.data;\n    } catch (error) {\n      return { error };\n    }\n  }\n}\n","import { PhotoItem } from \"./types\";\n\nexport const mapPhotoItem = (item: any): PhotoItem => {\n  return {\n    id: item.id,\n    created: item.created,\n    updated: item.updated,\n    small: item._links.image_middle.href,\n    preview: item._links.image_preview.href,\n    originalDate: item.created_original\n  };\n};\n","import React, { FC, memo, useCallback, useEffect, useState } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { PhotoItem } from \"../../store/photos/types\";\nimport { Spinner, SpinnerSize } from \"../common/Spinner\";\n\ntype Props = {\n  photo: PhotoItem | null;\n  onClose: () => void;\n};\n\nconst Wrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n`;\n\nconst Background = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n`;\n\nconst Content = styled(({ loading, ...props }) => (\n  <img {...props} alt=\"preview\" />\n))`\n  max-height: 80vh;\n  max-width: 90vw;\n  z-index: 1;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  transition: opacity 300ms linear;\n\n  ${props =>\n    props.loading &&\n    css`\n      opacity: 0;\n    `}\n`;\n\nexport const PhotoModal: FC<Props> = memo(({ photo, onClose }) => {\n  useEffect(() => {\n    const overflow = document.body.style.overflow;\n\n    document.body.style.overflow = \"hidden\";\n\n    return () => {\n      document.body.style.overflow = overflow;\n    };\n  }, []);\n\n  const [isLoaded, setLoaded] = useState(false);\n\n  const onImageLoad = useCallback(() => {\n    setLoaded(true);\n  }, []);\n\n  return (\n    <Wrapper>\n      <Background onClick={onClose} />\n      {(!photo || !isLoaded) && <Spinner size={SpinnerSize.SMALL} />}\n      {photo && (\n        <Content src={photo.preview} loading={!isLoaded} onLoad={onImageLoad} />\n      )}\n    </Wrapper>\n  );\n});\n","import React, { FC, memo, useCallback, useEffect, useState } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { PhotoService } from \"../../services/PhotoService\";\nimport { mapPhotoItem } from \"../../store/photos/mappers\";\nimport { PhotoItem } from \"../../store/photos/types\";\nimport { PhotoModal } from \"../photos/PhotoModal\";\n\ntype Props = {} & RouteComponentProps<{\n  id: string;\n  userId: string;\n}>;\n\nexport const Photo: FC<Props> = memo(({ match, history }) => {\n  const onClose = useCallback(() => {\n    history.push(\"/\");\n  }, [history]);\n\n  const { id, userId } = match.params;\n\n  const [photo, setPhoto] = useState<PhotoItem | null>(null);\n\n  useEffect(() => {\n    PhotoService.get(parseInt(userId, 10), id)\n      .then(data => {\n        setPhoto(mapPhotoItem(data));\n      })\n      .catch(() => {\n        onClose();\n      });\n  }, [id, userId, onClose]);\n\n  return <PhotoModal photo={photo} onClose={onClose} />;\n});\n","import React, { FC, memo } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route } from \"react-router-dom\";\nimport { AuthState } from \"../../store/auth/types\";\nimport { RootState } from \"../../store/reducer\";\nimport { LogoutButton } from \"../auth/LogoutButton\";\nimport { Photos } from \"../photos/Photos\";\nimport { Photo } from \"./Photo\";\n\ntype StateProps = AuthState;\ntype OwnProps = {};\ntype Props = OwnProps & StateProps;\n\nconst mapStateToProps = (state: RootState): StateProps => state.auth;\n\nconst EnhancedDashboard: FC<Props> = memo(({ userData }) => {\n  return (\n    <>\n      <LogoutButton />\n      <Photos userId={userData.userid} />\n\n      <Route path=\"/photos/:userId/:id\" component={Photo} />\n    </>\n  );\n});\n\nexport const Dashboard = connect(mapStateToProps)(EnhancedDashboard) as FC<\n  OwnProps\n>;\n","const EMAIL_REGEX = /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\nconst PHONE_REGEX = /(([+][(]?[0-9]{1,3}[)]?)|([(]?[0-9]{4}[)]?))\\s*[)]?[-\\s.]?[(]?[0-9]{1,3}[)]?([-\\s.]?[0-9]{3})([-\\s.]?[0-9]{3,4})/;\n\nexport const validateEmail = (email: string): boolean => {\n  return EMAIL_REGEX.test(email);\n};\n\nexport const validatePhone = (phone: string): boolean => {\n  return PHONE_REGEX.test(phone);\n};\n","import React, { FC, InputHTMLAttributes, memo, ReactElement } from \"react\";\nimport styled from \"styled-components\";\n\ntype Props = InputHTMLAttributes<HTMLInputElement> & {\n  label?: string | ReactElement;\n};\n\nconst Wrapper = styled.label`\n  display: flex;\n  flex-direction: column-reverse;\n`;\n\nexport const StyledInput = styled.input`\n  width: 100%;\n  border-radius: 4px;\n  border: 1px solid #bcc0c7;\n  box-sizing: border-box;\n  font-size: 1rem;\n  padding: 10px 15px;\n  line-height: 1;\n`;\n\nexport const Label = styled.span`\n  margin-bottom: 5px;\n  font-size: 0.8rem;\n`;\n\nexport const Input: FC<Props> = memo(({ label, autoComplete, ...props }) => {\n  return (\n    <Wrapper>\n      <StyledInput {...props} autoComplete={autoComplete || \"off\"} />\n\n      {label && <Label>{label}</Label>}\n    </Wrapper>\n  );\n});\n","import React, { FC, memo } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Label as TextLabel, StyledInput as TextInput } from \"./Input\";\n\ntype Props = {\n  error?: string;\n  hasError: boolean;\n};\n\nconst Wrapper = styled(({ hasError, ...props }) => <div {...props} />)`\n  position: relative;\n\n  ${props =>\n    props.hasError &&\n    css`\n      ${TextInput} {\n        border-color: #f35159;\n      }\n\n      ${TextLabel} {\n        color: #f35159;\n      }\n    `}\n`;\n\nconst Error = styled.div`\n  position: absolute;\n  top: 100%;\n  margin-top: 3px;\n  color: #f35159;\n  font-size: 0.8rem;\n`;\n\nexport const FieldError: FC<Props> = memo(({ error, hasError, children }) => {\n  return (\n    <Wrapper hasError={hasError}>\n      {hasError && <Error>{error}</Error>}\n\n      {children}\n    </Wrapper>\n  );\n});\n","import { Field, Formik, FormikHelpers } from \"formik\";\nimport React, { FC, memo } from \"react\";\nimport styled from \"styled-components\";\nimport * as Yup from \"yup\";\nimport { AuthorizeRequestPayload } from \"../../store/auth/types\";\nimport { validateEmail, validatePhone } from \"../../utils/validations\";\nimport { Button } from \"../common/Button\";\nimport { FieldError } from \"../forms/FieldError\";\nimport { Input } from \"../forms/Input\";\n\ntype Props = {\n  onSubmit: (\n    values: AuthorizeRequestPayload,\n    actions: FormikHelpers<any>\n  ) => void;\n};\n\nconst Form = styled.form`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-row-gap: 30px;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 17% 15%;\n  box-shadow: 0 20px 20px -10px rgba(0, 0, 0, 0.1);\n  position: relative;\n`;\n\nconst FormError = styled.p`\n  color: #f35159;\n  font-size: 0.8em;\n  position: absolute;\n  top: 100%;\n  padding: 15px;\n`;\n\nconst Title = styled.div`\n  font-size: 1.6rem;\n`;\n\nconst ValidationSchema = Yup.object().shape({\n  login: Yup.string().test(\n    \"is-email-or-phone\",\n    \"Please, enter valid email or phone\",\n    value => Promise.resolve(validatePhone(value) || validateEmail(value))\n  ),\n  password: Yup.string()\n    .min(2)\n    .required(\"This field is required\")\n});\n\nexport const SignInForm: FC<Props> = memo(({ onSubmit }) => {\n  return (\n    <Formik\n      onSubmit={onSubmit}\n      validationSchema={ValidationSchema}\n      initialValues={{\n        login: \"\",\n        password: \"\"\n      }}\n    >\n      {({ handleSubmit, status = {} }) => (\n        <Form onSubmit={handleSubmit}>\n          <Title>Sign in</Title>\n\n          <Field name=\"login\">\n            {({ field, meta }) => (\n              <FieldError\n                hasError={meta.touched && !!meta.error}\n                error={meta.error}\n              >\n                <Input {...field} label=\"Email or Phone\" />\n              </FieldError>\n            )}\n          </Field>\n          <Field name=\"password\">\n            {({ field, meta }) => (\n              <FieldError\n                hasError={meta.touched && !!meta.error}\n                error={meta.error}\n              >\n                <Input {...field} type=\"password\" label=\"Password\" />\n              </FieldError>\n            )}\n          </Field>\n\n          <Button type=\"submit\" isLoading={status.loading}>\n            Sign in\n          </Button>\n\n          {status.error && <FormError>{status.error}</FormError>}\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M18.003,0C8.061,0,0,8.061,0,18.004s8.061,18.004,18.003,18.004 c9.943,0,18.003-8.061,18.003-18.004S27.947,0,18.003,0z M18.141,23.609c1.555,0,2.962-0.636,3.976-1.66l5.472,5.474 c0.073,0.072-1.446,0.154-2.982,1.017c-1.145,0.644-2.18,2.04-2.489,2.48c-0.266,0.379-0.426-0.659,0.539-1.952 c1.088-1.459,1.886-1.723,2.271-2.119c0-0.185-2.393-2.639-6.407-1.204c-4.013,1.435-4.172,4.621-3.935,4.776 c0.126,0.082,1.008,0.231,1.804,0.931c0.912,0.761,1.349,1.711,1.321,1.827c-0.009,0.036-1.192-1.195-2.7-1.827 c-1.199-0.504-2.747-0.432-3.033-0.432c-0.181,0-0.267-0.274,0.411-0.499c0.678-0.225,0.692-0.309,0.609-0.471 c-0.072-0.139-0.799-1.301-2.45-1.943c-1.65-0.643-3.164-0.167-3.164-0.167s-0.876-0.938-1.7-2.308 c-0.662-1.1-1.266-2.54-1.542-3.521c-0.352-1.25-0.54-2.569-0.54-3.932c0-7.996,6.481-14.479,14.475-14.479 c4.041,0,7.695,1.656,10.321,4.327l-6.215,6.218c-1.018-1.063-2.452-1.726-4.041-1.726c-3.088,0-5.592,2.504-5.592,5.593 C12.549,21.104,15.052,23.609,18.141,23.609z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M135.651,22.894v-2.586h-4.464v-1.07h4.362v-2.586h-4.362v-0.969 h4.464V13.1h-7.431v9.795H135.651z M125.452,22.894l-3.862-5.242l3.701-4.553h-3.627l-2.57,3.67V13.1h-2.966v9.795h2.966v-2.717 l0.543-0.734l2.203,3.451H125.452z M112.301,22.894V13.1h-2.967v9.795H112.301z M100.663,20.309h-1.41v-4.625h1.425 c1.586,0,2.35,0.982,2.35,2.305C103.027,19.223,102.146,20.309,100.663,20.309z M100.677,22.894c3.069,0,5.36-1.777,5.36-4.906 c0-3.127-2.291-4.889-5.375-4.889h-4.376v9.795H100.677z M87.629,23.07c3.304,0,4.832-1.777,4.832-4.215V13.1H89.45v5.668 c0,0.94-0.616,1.69-1.821,1.69c-1.219,0-1.835-0.75-1.835-1.69V13.1h-3.011v5.769C82.782,21.293,84.325,23.07,87.629,23.07z  M74.126,20.457c-1.425,0-2.35-1.088-2.35-2.453c0-1.367,0.925-2.451,2.35-2.451c1.424,0,2.349,1.084,2.349,2.451 C76.475,19.369,75.55,20.457,74.126,20.457z M74.126,23.07c3.025,0,5.36-2.055,5.36-5.066s-2.335-5.066-5.36-5.066 c-3.025,0-5.36,2.055-5.36,5.066S71.1,23.07,74.126,23.07z M66.159,22.894v-2.586h-3.716V13.1h-2.966v9.795H66.159z M51.861,23.07 c2.57,0,3.877-1.557,4.45-2.863l-2.555-1.176c-0.25,0.764-1.014,1.426-1.895,1.426c-1.424,0-2.379-1.088-2.379-2.453 c0-1.367,0.955-2.451,2.379-2.451c0.881,0,1.646,0.658,1.895,1.424l2.555-1.191c-0.587-1.352-1.88-2.848-4.45-2.848 c-3.069,0-5.389,2.041-5.389,5.066C46.472,21.016,48.792,23.07,51.861,23.07z\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"135.651px\",\n    height: \"36.008px\",\n    viewBox: \"0 0 135.651 36.008\",\n    enableBackground: \"new 0 0 135.651 36.008\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.64559e04.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { ReactComponent as LogoIcon } from \"../../assets/icons/logo.svg\";\n\ntype Props = {\n  alternative?: boolean;\n};\nexport const Logo = styled(({ alternative, ...props }: Props) => (\n  <LogoIcon {...props} />\n))`\n  fill: #fff;\n\n  ${props =>\n    props.alternative &&\n    css`\n      fill: #4283ee;\n    `}\n`;\n","import React, { FC, memo } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { bindActionCreators, Dispatch } from \"redux\";\nimport styled from \"styled-components\";\nimport { authorizeRequest } from \"../../store/auth/actions\";\nimport { AuthState } from \"../../store/auth/types\";\nimport { RootState } from \"../../store/reducer\";\nimport { SignInForm } from \"../auth/SignInForm\";\nimport { Logo } from \"../common/Logo\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  height: 100%;\n  background-color: #f5f5f5;\n  padding: 15px;\n  box-sizing: border-box;\n`;\n\nconst FormWrapper = styled.div`\n  max-width: 400px;\n  width: 100%;\n  position: relative;\n\n  ${Logo} {\n    position: absolute;\n    top: -60px;\n    left: 50%;\n    width: 120px;\n    transform: translateX(-50%);\n  }\n`;\n\ntype OwnProps = {};\ntype StateProps = AuthState;\ntype DispatchProps = {\n  authorize: typeof authorizeRequest;\n};\ntype Props = OwnProps & DispatchProps & StateProps;\n\nconst mapDispatchToProps = (dispatch: Dispatch): DispatchProps =>\n  bindActionCreators(\n    {\n      authorize: authorizeRequest\n    },\n    dispatch\n  );\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return state.auth;\n};\n\nconst EnhancedLogin: FC<Props> = memo(({ authorize, isAuthorized }) => {\n  if (isAuthorized) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <Wrapper>\n      <FormWrapper>\n        <Logo alternative={true} />\n\n        <SignInForm onSubmit={authorize} />\n      </FormWrapper>\n    </Wrapper>\n  );\n});\n\nexport const Login: FC<OwnProps> = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EnhancedLogin);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the auth load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web auth is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different auth. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import merge from \"lodash.merge\";\nimport { DeepPartial } from \"redux\";\nimport { environment } from \"../config/environment\";\nimport { RootState } from \"./reducer\";\n\nexport const getState = (reducerKey?: keyof RootState) => {\n  try {\n    const savedState =\n      JSON.parse(localStorage.getItem(environment.localStorageKey) as string) ||\n      {};\n\n    if (reducerKey) {\n      return savedState[reducerKey];\n    }\n\n    return savedState;\n  } catch {\n    return {};\n  }\n};\n\nexport const saveState = (state: DeepPartial<RootState>) => {\n  const localStorageState = getState();\n\n  localStorage.setItem(\n    environment.localStorageKey,\n    JSON.stringify(merge(localStorageState, state))\n  );\n};\n","import { ActionType, createReducer } from \"typesafe-actions\";\nimport { getState } from \"../localStorage\";\nimport * as actions from \"./actions\";\nimport { AuthState } from \"./types\";\n\ntype AuthAction = ActionType<typeof actions>;\n\nconst clearState: AuthState = {\n  isAuthorized: false,\n  token: \"\",\n  isReady: false,\n  userData: {\n    userid: -1\n  }\n};\n\nconst initialState: AuthState = {\n  ...clearState,\n  ...getState(\"auth\")\n};\n\nexport const authReducer = createReducer<AuthState, AuthAction>(initialState)\n  .handleAction(actions.logout, () => {\n    return clearState;\n  })\n  .handleAction(actions.getAuthSuccess, (state, action) => {\n    return {\n      ...state,\n      isAuthorized: true,\n      userData: action.payload,\n      isReady: true\n    };\n  })\n  .handleAction(actions.getAuthFailure, state => {\n    return {\n      ...state,\n      isAuthorized: false,\n      isReady: true\n    };\n  })\n  .handleAction(actions.authorizeSuccess, (state, action) => {\n    return {\n      ...state,\n      isAuthorized: true,\n      token: action.payload\n    };\n  })\n  .handleAction(actions.authorizeFailure, state => {\n    return {\n      ...state,\n      isAuthorized: false\n    };\n  });\n","import { ActionType, createReducer } from \"typesafe-actions\";\nimport { logout } from \"../auth/actions\";\nimport { LogoutActionType } from \"../auth/types\";\nimport * as actions from \"./actions\";\nimport { PhotosState } from \"./types\";\n\ntype PhotosAction = ActionType<typeof actions>;\n\nconst initialState: PhotosState = {\n  loaded: false,\n  loading: false,\n  next: null,\n  items: []\n};\n\nexport const photosReducer = createReducer<\n  PhotosState,\n  PhotosAction | LogoutActionType\n>(initialState)\n  .handleAction(logout, () => {\n    return initialState;\n  })\n  .handleAction(actions.getPhotosRequest, state => {\n    return {\n      ...state,\n      loaded: false,\n      loading: true\n    };\n  })\n  .handleAction(actions.getPhotosRequestSuccess, (state, action) => {\n    return {\n      ...state,\n      loaded: true,\n      loading: false,\n      next: action.payload.next,\n      items: action.payload.items\n    };\n  })\n  .handleAction(actions.getMorePhotosRequestSuccess, (state, action) => {\n    return {\n      ...state,\n      loading: false,\n      next: action.payload.next,\n      items: [...state.items, ...action.payload.items]\n    };\n  });\n","import { combineReducers } from \"redux\";\nimport { StateType } from \"typesafe-actions\";\nimport { authReducer } from \"./auth/reducer\";\nimport { photosReducer } from \"./photos/reducer\";\n\nexport const rootReducer = combineReducers({\n  auth: authReducer,\n  photos: photosReducer\n});\n\nexport type RootState = StateType<typeof rootReducer>;\n","import { axiosClient } from \"../config/axios\";\n\ntype AuthorizePayload = {\n  password: string;\n};\n\ntype AuthorizePhonePayload = {\n  phone: string;\n} & AuthorizePayload;\n\ntype AuthorizeEmailPayload = {\n  email: string;\n} & AuthorizePayload;\n\nexport class AuthService {\n  static async getAuth() {\n    try {\n      const response = await axiosClient.get(`/api/2/accounts/get/`);\n\n      return response.data;\n    } catch (error) {\n      return {\n        error\n      };\n    }\n  }\n\n  static async authorizeWithEmail(data: AuthorizeEmailPayload) {\n    try {\n      const response = await axiosClient.post(\"/api/2/accounts/login/\", data);\n\n      return response.data;\n    } catch (error) {\n      return {\n        error\n      };\n    }\n  }\n\n  static async authorizeWithPhone(data: AuthorizePhonePayload) {\n    try {\n      const response = await axiosClient.post(\n        \"/api/2/accounts/login_by_phone/\",\n        data\n      );\n\n      return response.data;\n    } catch (error) {\n      return {\n        error\n      };\n    }\n  }\n}\n","import { all, call, put, select, takeEvery } from \"redux-saga/effects\";\nimport { ActionType, getType } from \"typesafe-actions\";\nimport { axiosClient } from \"../../config/axios\";\nimport { AuthService } from \"../../services/AuthService\";\nimport { validatePhone } from \"../../utils/validations\";\nimport { saveState } from \"../localStorage\";\nimport { RootState } from \"../reducer\";\nimport * as actions from \"./actions\";\n\nfunction* getAuth() {\n  const state: RootState = yield select();\n\n  if (!state.auth.token) {\n    return yield put(actions.getAuthFailure());\n  }\n\n  const data = yield AuthService.getAuth();\n\n  if (data.error) {\n    return yield put(actions.getAuthFailure());\n  }\n\n  yield put(actions.getAuthSuccess(data));\n}\n\nfunction* authorize(action: ActionType<typeof actions.authorizeRequest>) {\n  const formApi = action.meta;\n  formApi.setStatus({ loading: true });\n\n  const { login, password } = action.payload;\n  const isPhone = validatePhone(action.payload.login);\n  let data;\n\n  if (isPhone) {\n    data = yield AuthService.authorizeWithPhone({\n      password,\n      phone: login\n    });\n  } else {\n    data = yield AuthService.authorizeWithEmail({\n      password,\n      email: login\n    });\n  }\n\n  if (data.error) {\n    let message = data.error.response.data.description;\n\n    formApi.setStatus({ error: message, loading: false });\n\n    return yield put(actions.authorizeFailure());\n  }\n\n  formApi.setStatus({ loading: false });\n\n  return yield put(actions.authorizeSuccess(data.token));\n}\n\nfunction saveToken(action: ActionType<typeof actions.authorizeSuccess>) {\n  saveState({\n    auth: {\n      token: action.payload\n    }\n  });\n}\n\nfunction removeToken() {\n  saveState({\n    auth: {\n      token: \"\"\n    }\n  });\n}\n\nfunction* initialize() {\n  const state: RootState = yield select();\n\n  axiosClient.defaults.headers[\"Mountbit-Auth\"] = state.auth.token;\n\n  yield put(actions.getAuthRequest());\n}\n\nexport function* authSaga() {\n  yield all([\n    call(initialize),\n    takeEvery(getType(actions.getAuthRequest), getAuth),\n    takeEvery(getType(actions.authorizeRequest), authorize),\n    takeEvery(getType(actions.authorizeSuccess), saveToken),\n    takeEvery(getType(actions.authorizeSuccess), initialize),\n    takeEvery(getType(actions.logout), removeToken),\n    takeEvery(getType(actions.logout), initialize)\n  ]);\n}\n","import { environment } from \"../config/environment\";\n\nexport const parseLink = (link: { href: string } | null) => {\n  return link ? link.href.split(environment.apiUrl)[1] : null;\n};\n","import { all, put, select, takeEvery } from \"redux-saga/effects\";\nimport { ActionType, getType } from \"typesafe-actions\";\nimport { axiosClient } from \"../../config/axios\";\nimport { PhotoService } from \"../../services/PhotoService\";\nimport { parseLink } from \"../../utils/parseLink\";\nimport { RootState } from \"../reducer\";\nimport * as actions from \"./actions\";\nimport { mapPhotoItem } from \"./mappers\";\nimport { PhotoItem } from \"./types\";\n\nfunction* getPhotos(action: ActionType<typeof actions.getPhotosRequest>) {\n  const data = yield PhotoService.getAll(action.payload);\n\n  if (data.error) {\n    return yield put(actions.getPhotosRequestFailure());\n  }\n\n  try {\n    const items: PhotoItem[] = data._embedded.items.map(mapPhotoItem);\n\n    yield put(\n      actions.getPhotosRequestSuccess({\n        items,\n        next: parseLink(data._links.next)\n      })\n    );\n  } catch {\n    yield put(actions.getPhotosRequestFailure());\n  }\n}\n\nfunction* getMorePhotos() {\n  const state: RootState = yield select();\n  const { next } = state.photos;\n\n  if (!next) {\n    return yield put(actions.getMorePhotosRequestFailure());\n  }\n\n  try {\n    const { data } = yield axiosClient.get(next);\n\n    const items: PhotoItem[] = data._embedded.items.map(mapPhotoItem);\n\n    yield put(\n      actions.getMorePhotosRequestSuccess({\n        items,\n        next: parseLink(data._links.next)\n      })\n    );\n  } catch {\n    yield put(actions.getMorePhotosRequestFailure());\n  }\n}\n\nexport function* photosSaga() {\n  yield all([\n    takeEvery(getType(actions.getPhotosRequest), getPhotos),\n    takeEvery(getType(actions.getMorePhotosRequest), getMorePhotos)\n  ]);\n}\n","import { all, fork } from \"redux-saga/effects\";\nimport { authSaga } from \"./auth/saga\";\nimport { photosSaga } from \"./photos/saga\";\n\nexport function* rootSaga() {\n  yield all([fork(authSaga), fork(photosSaga)]);\n}\n","import { applyMiddleware, createStore, Store } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { rootReducer } from \"./reducer\";\nimport { rootSaga } from \"./saga\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport const configureStore = (preloadedState = {}): Store => {\n  const store = createStore(\n    rootReducer,\n    preloadedState,\n    composeWithDevTools(applyMiddleware(sagaMiddleware))\n  );\n\n  let sagaTask = sagaMiddleware.run(rootSaga);\n\n  if (module.hot) {\n    module.hot.accept(\"./reducer\", () => {\n      store.replaceReducer(require(\"./reducer\").rootReducer);\n    });\n\n    module.hot.accept(\"./saga\", () => {\n      const nextRootSaga = require(\"./saga\").rootSaga;\n\n      sagaTask.cancel();\n\n      sagaTask.toPromise().then(() => {\n        sagaTask = sagaMiddleware.run(nextRootSaga);\n      });\n    });\n  }\n\n  return store;\n};\n","import React, { ComponentType } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Store } from \"redux\";\nimport { App } from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { configureStore } from \"./store/configureStore\";\n\nconst rootElement = document.getElementById(\"root\");\nconst store = configureStore();\n\nconst render = (Component: ComponentType<{ store: Store }>) => {\n  ReactDOM.render(<Component store={store} />, rootElement);\n};\n\nrender(App);\n\nif (module.hot) {\n  module.hot.accept(\"./App\", () => {\n    render(require(\"./App\").App);\n  });\n}\n\n// If you want your auth to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { FC } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Store } from \"redux\";\nimport { GlobalStyles } from \"./assets/styles/GlobalStyles\";\nimport { PrivateRoute } from \"./components/common/PrivateRoute\";\nimport { TabMode } from \"./components/common/TabMode\";\nimport { Dashboard } from \"./components/pages/Dashboard\";\nimport { Login } from \"./components/pages/Login\";\n\ntype Props = {\n  store: Store;\n};\n\nexport const App: FC<Props> = ({ store }) => {\n  return (\n    <TabMode>\n      <Provider store={store}>\n        <Router>\n          <Switch>\n            <Route path=\"/login\" component={Login} />\n            <PrivateRoute path=\"/\" component={Dashboard} />\n          </Switch>\n        </Router>\n\n        <GlobalStyles />\n      </Provider>\n    </TabMode>\n  );\n};\n"],"sourceRoot":""}